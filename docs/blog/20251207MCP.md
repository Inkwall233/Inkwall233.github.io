# MCP
> MCP（Model Context Protocol）模型上下文协议，是一个开源标准的协议，其核心目标是让AI应用能够顺畅、安全地连接和交互外部系统和数据源。
## 介绍

个人理解就是AI模型是语言模型，输出的是文本，无权限无法直接读写文件或执行系统命令的，而MCP可以将这些能力封装成一个MCP Server，暴露成标准接口。AI应用（MCP Client）可以自动发现有哪些工具，然后按需调用。

例如：
1、问AI应用，今天的天气怎么样？我应该穿什么衣服？
AI是不能实时获取到天气的，但是有了MCP了之后，AI可以通过MCP获取到当前的天气，然后给出建议。
2、让AI应用，创建一个文本，内容为xxx
AI应用是不能直接创建文件的，但是可以通过MCP封装成方法，供AI应用进行调用

那么问题来了，我们平时用的智能体明明是可以给我们修改代码，跑命令的，怎么能说AI应用做不了创建文件的。我也很好奇，问了AI后得到了答案。

那就是因为AI并不能直接创建文件，而是背后的智能体框架或插件在操作，不同的AI应用内部有自己不同的实现方法，而MCP是协议，**提供标准化、安全、可发现、跨平台的工具调用机制**，随着MCP生态成熟，任何AI应用只要接入标准的MCP Server，就能立即获得读写文件、调用API、访问数据库等能力。

## 前置知识
### 通信方式：stdio
stdio: standard input and output标准输入输出

MCP使用stdio作为通信方式，MCP Client和MCP Server通过标准输入输出进行通信。MCP消息是JSON格式，通过stdin发送请求，通过stdout接收响应。

stdio是一种常见的进程间通信方式，它允许进程之间通过标准输入输出进行通信。

### stdin

```js
process.stdout.write(process.pid + 'Hello, World!\n')
```
执行 node index.js
终端输出了26868Hello, World!
这个时候，终端作为父进程，创建了子进程，子进程通过标准输出接口stdout输出了26868Hello, World!,终端监听子进程的输出

### stdout

```js
process.stdin.on('data', function (data) {
  process.stdout.write('回复: ' + data)
})
```
执行 node index.js
终端输入任意字符，终端会输出：回复: xxx
而且此时进程不会结束，因为stdin监听了数据，所以进程不会结束

## 参考
[modelcontextprotocol官网](https://modelcontextprotocol.io)

[B站渡一教育MCP解读](https://www.bilibili.com/video/BV1qkYpzZEQ8?spm_id_from=333.788.videopod.sections&vd_source=0f54cda2e81d3c6795a9a797a6afee39)
